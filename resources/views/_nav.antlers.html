<nav x-data="{searching: false}">
    <div
        class="max-w-7xl mx-auto px-3 mt-5 flex items-center justify-between h-36"
    >
        <a href="/" x-show="! searching">
            <img
                class="img-fluid w-28 mt-3"
                src="{{ settings:site_logo }}"
                alt="{{ settings:site_name }}"
            />
        </a>
        <button
            class="hover:text-hot-pink transition-all duration-100 outline-none"
            @click="searching = true; $nextTick(() => { $refs.search.focus() })"
            aria-label="Search the site"
        >
            {{ svg src="search-{settings:personality}" class="w-6 h-6" }}
        </button>
        <form action="/search" x-show="searching" x-cloak class="flex-1">
            <input
                name="q"
                type="text"
                class="w-full outline-none px-2 py-1 ml-3"
                placeholder="Search for stuff"
                x-on:blur="searching = false"
                @keydown.enter="search"
                @keydown.esc="searching = false"
                x-show="searching"
                x-ref="search"
            />
        </form>
    </div>
</nav>
